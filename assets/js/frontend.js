/*! For license information please see frontend.js.LICENSE.txt */
(()=>{"use strict";var e,t={125:()=>{function e(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r,i;"function"==typeof SuppressedError&&SuppressedError;var n=t(i?r:(i=1,r=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!==n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!==n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!==n--;){var a=o[n];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}));const o="__googleMapsScriptId";var a,s;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(a||(a={}));class l{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:i,id:a=o,language:s,libraries:c=[],mapIds:u,nonce:h,region:p,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=i,this.id=a||o,this.language=s,this.libraries=c,this.mapIds=u,this.nonce=h,this.region=p,this.retries=f,this.url=d,this.version=g,l.instance){if(!n(this.options,l.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(l.instance.options)}`);return l.instance}l.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?a.FAILURE:this.done?a.SUCCESS:this.loading?a.LOADING:a.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var t,r;if(document.getElementById(this.id))return void this.callback();const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(e=>!i[e]&&delete i[e]),(null===(r=null===(t=null===window||void 0===window?void 0:window.google)||void 0===t?void 0:t.maps)||void 0===r?void 0:r.importLibrary)||(t=>{let r,i,n,o="The Google Maps JavaScript API",a="google",s="importLibrary",l="__ib__",c=document,u=window;u=u[a]||(u[a]={});const h=u.maps||(u.maps={}),p=new Set,f=new URLSearchParams,d=()=>r||(r=new Promise((s,u)=>e(this,void 0,void 0,function*(){var e;for(n in yield i=c.createElement("script"),i.id=this.id,f.set("libraries",[...p]+""),t)f.set(n.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),t[n]);f.set("callback",a+".maps."+l),i.src=this.url+"?"+f,h[l]=s,i.onerror=()=>r=u(Error(o+" could not load.")),i.nonce=this.nonce||(null===(e=c.querySelector("script[nonce]"))||void 0===e?void 0:e.nonce)||"",c.head.append(i)})));h[s]?console.warn(o+" only loads once. Ignoring:",t):h[s]=(e,...t)=>p.add(e)&&d().then(()=>h[s](e,...t))})(i);const n=this.libraries.map(e=>this.importLibrary(e));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}function c(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function o(r,i,n,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return u(c,"_invoke",function(r,i,n){var o,s,l,c=0,u=n||[],h=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,l=e,p.n=r,a}};function f(r,i){for(s=r,l=i,t=0;!h&&c&&!n&&t<u.length;t++){var n,o=u[t],f=p.p,d=o[2];r>3?(n=d===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((n=r<2&&f<o[1])?(s=0,p.v=i,p.n=o[1]):f<d&&(n=r<3||o[0]>i||i>d)&&(o[4]=r,o[5]=i,p.n=d,s=0))}if(n||r>1)return a;throw h=!0,i}return function(n,u,d){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,d),s=u,l=d;(t=s<2?e:l)||!h;){o||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,o){if(s||(n="next"),t=o[n]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),s=1);o=e}else if((t=(h=p.n<0)?l:r.call(i,p))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(r,n,o),!0),c}var a={};function s(){}function l(){}function h(){}t=Object.getPrototypeOf;var p=[][i]?t(t([][i]())):(u(t={},i,function(){return this}),t),f=h.prototype=s.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,n,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=h,u(f,"constructor",h),u(h,"constructor",l),l.displayName="GeneratorFunction",u(h,n,"GeneratorFunction"),u(f),u(f,n,"Generator"),u(f,i,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:d}})()}function u(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}u=function(e,t,r,i){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,i)}function h(e,t,r,i,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var o=e.apply(t,r);function a(e){h(o,i,n,a,s,"next",e)}function s(e){h(o,i,n,a,s,"throw",e)}a(void 0)})}}(s=p(c().m(function e(t){var r,i,n,o,a,s,u,h,f,d,g,y,m,v,b;return c().w(function(e){for(;;)switch(e.n){case 0:b=function(){t.ajax({url:apg_map_ajax.ajax_url,type:"POST",dataType:"json",data:{action:"apg_map_pins_get_locations",security:apg_map_ajax.security},success:function(e){if(e.success&&e.data.map){v();var t=new google.maps.LatLngBounds;if(e.data.map.forEach(function(e){var r=parseFloat(e.lat),i=parseFloat(e.lng);if(!isNaN(r)&&!isNaN(i)){var n={path:"M12 2 C8.13 2 5 5.13 5 9 c0 5.25 7 13 7 13 s7-7.75 7-13 c0-3.87-3.13-7-7-7 Z M12 9 m-2,0 a2,2 0 1,0 4,0 a2,2 0 1,0 -4,0",fillColor:"#522aab",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2,scale:2,anchor:new google.maps.Point(12,24)};m({map:u,position:{lat:r,lng:i},title:e.city.name||"Local",icon:n,localId:e.city.id}),t.extend({lat:r,lng:i})}}),t.isEmpty()||u.fitBounds(t),e.data.selects&&Array.isArray(e.data.selects)){var r=e.data.selects.map(function(e){return{label:e.name,id:e.id,choices:e.locals.map(function(t){return{value:t.id,label:t.label+" - "+e.name}})}});d.clearChoices(),d.setChoices(r,"value","label",!0)}}},error:function(e,t,r){console.error("Erro ao carregar locais:",r)}})},v=function(){h.forEach(function(e){return e.setMap(null)}),h=[]},m=function(e){var t=e.map,r=e.position,i=e.title,n=e.icon,o=e.localId,a=new google.maps.Marker({map:t,position:r,title:i,icon:n});return a.localId=o,h.push(a),a},y=function(){return(y=p(c().m(function e(){var t,r;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s.importLibrary("maps");case 1:t=e.v,r=t.Map,u=new r(i.get(0),{center:{lat:-15.8267,lng:-47.9218},zoom:a,styles:f,disableDefaultUI:!1}),b();case 2:return e.a(2)}},e)}))).apply(this,arguments)},g=function(){return y.apply(this,arguments)},r=console.warn,console.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];"string"==typeof t[0]&&t[0].includes("google.maps.Marker is deprecated")||r.apply(console,t)},i=t("#apgmappins-map"),n=t("#apgmappins-choice"),o=i.data("key"),a=parseInt(i.data("zoom"))||5,s=new l({apiKey:o}),h=[],f=[{featureType:"water",stylers:[{color:"#9474ff"}]},{featureType:"landscape",stylers:[{color:"#F5F5F5"},{lightness:-10}]},{featureType:"road",stylers:[{color:"#FFFFFF"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#4B0082"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#4B0082"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#4B0082"}]}],d=new Choices(n.get(0),{removeItemButton:!0,placeholderValue:"Pesquisar",shouldSort:!1,position:"auto",searchResultLimit:50,loadingText:"Carregando...",noResultsText:"Nenhum resultado encontrado",noChoicesText:"Nenhuma opção disponível",itemSelectText:""}),n.on("change",p(c().m(function e(){var t,r,i;return c().w(function(e){for(;;)switch(e.n){case 0:if(t=d.getValue(!0)){e.n=1;break}return r=new google.maps.LatLngBounds,h.forEach(function(e){r.extend(e.getPosition())}),r.isEmpty()||u.fitBounds(r),e.a(2);case 1:i=h.find(function(e){return e.localId==t}),console.log(i,h),i&&(u.panTo(i.getPosition()),u.setZoom(12),i.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){return i.setAnimation(null)},1400));case 2:return e.a(2)}},e)}))),g();case 1:return e.a(2)}},e)})),function(e){return s.apply(this,arguments)})(jQuery)},719:()=>{}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,r,n,o)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,n,o]=e[u],s=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every(e=>i.O[e](r[l]))?r.splice(l--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={256:0,847:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[a,s,l]=r,c=0;if(a.some(t=>0!==e[t])){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(l)var u=l(i)}for(t&&t(r);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.O(void 0,[847],()=>i(125));var n=i.O(void 0,[847],()=>i(719));n=i.O(n)})();